{"remainingRequest":"/Users/abeerwaseem/Sites/cloudtres-front/node_modules/babel-loader/lib/index.js!/Users/abeerwaseem/Sites/cloudtres-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/abeerwaseem/Sites/cloudtres-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/abeerwaseem/Sites/cloudtres-front/src/views/projects/childrens/messages/default_messages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/abeerwaseem/Sites/cloudtres-front/src/views/projects/childrens/messages/default_messages.vue","mtime":1609744687000},{"path":"/Users/abeerwaseem/Sites/cloudtres-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/abeerwaseem/Sites/cloudtres-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/abeerwaseem/Sites/cloudtres-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/abeerwaseem/Sites/cloudtres-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hYmVlcndhc2VlbS9TaXRlcy9jbG91ZHRyZXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbm9yZWNvcmRmb3VuZCBmcm9tICIuLi8uLi8uLi8uLi9jb21wb25lbnRzL25vLXJlY29yZC1mb3VuZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAibm8tcmVjb3JkLWZvdW5kIjogbm9yZWNvcmRmb3VuZAogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWJfbG9hZGVyOiB0cnVlLAogICAgICBwcm9qZWN0X21lc3NhZ2VzOiB7fSwKICAgICAgbG9hZGVyOiB0cnVlLAogICAgICB0aHJlYWRMaXN0aW5nOiB7fSwKICAgICAgZGlzYWJsZVN1Ym1pdEJ0bjogZmFsc2UsCiAgICAgIHVwZGF0ZUxpc3REYXRhVmlldzogZmFsc2UsCiAgICAgIHJlZnJlc2hUaHVtYkRhdGE6IGZhbHNlLAogICAgICBkb2NfZmlsZV91cmw6ICJodHRwczovL3BuY3dvcmtiZW5jaC5jb20vaW1nL2ZpbGVfZG9jLnBuZyIsCiAgICAgIGV4Y2VsX2ZpbGVfdXJsOiAiaHR0cHM6Ly9wbmN3b3JrYmVuY2guY29tL2ltZy9leGNlbC5wbmciLAogICAgICBnbG9iYWxfaW1hZ2VfdXJsOiAiaHR0cHM6Ly9wbmN3b3JrYmVuY2guY29tL2ltZy9hcmNoaXZlLnBuZyIsCiAgICAgIHBzZF91cmw6ICJodHRwczovL3BuY3dvcmtiZW5jaC5jb20vaW1nL3BzZC5wbmciLAogICAgICByb2xldXJsOiAiaHR0cHM6Ly9wbmN3b3JrYmVuY2guY29tIiwKICAgICAgcHJlOiAiIiwKICAgICAgc2hvd01lc3NhZ2VNb2RlbDogZmFsc2UsCiAgICAgIHByb2plY3RGaWxlc1RodW1iVmlldzoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQcm9qZWN0TWVzc2FnZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hQcm9qZWN0TWVzc2FnZXM6IGZ1bmN0aW9uIHJlZnJlc2hQcm9qZWN0TWVzc2FnZXMoKSB7CiAgICAgIHRoaXMuZ2V0UHJvamVjdE1lc3NhZ2VzKCk7CiAgICB9LAogICAgZ2V0UHJvamVjdE1lc3NhZ2VzOiBmdW5jdGlvbiBnZXRQcm9qZWN0TWVzc2FnZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFnZSwgYWN0aW9uLCAkdGhpcywgZ2V0UHJvZHVjdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFnZSA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogMTsKICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogbnVsbDsKICAgICAgICAgICAgICAgICR0aGlzID0gX3RoaXM7CiAgICAgICAgICAgICAgICAkdGhpcy5zdWJfbG9hZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGdldFByb2R1Y3RzID0gJHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRIdHRwIiwgewogICAgICAgICAgICAgICAgICB1cmw6ICJ0aHJlYWQtbWVzc2FnZS9nZXQtcHJvamVjdC1tZXNzYWdlcy1kYXRhLyIgKyBfdGhpcy4kcm91dGUucGFyYW1zLnByb2plY3RfaWQgKyAiPyIgKyAiJnRpbWV6b25lPSIgKyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UHJvZHVjdHMudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5wcm9qZWN0X21lc3NhZ2VzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgJHRoaXMuc3ViX2xvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAkdGhpcy5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYmVmb3JlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZUxlYXZlKGVsZW1lbnQpIHsKICAgICAgdGhpcy5wcmV2SGVpZ2h0ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5oZWlnaHQ7CiAgICB9LAogICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKGVsZW1lbnQpIHsKICAgICAgdmFyIF9nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSwKICAgICAgICAgIGhlaWdodCA9IF9nZXRDb21wdXRlZFN0eWxlLmhlaWdodDsKCiAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5wcmV2SGVpZ2h0OwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodDsKICAgICAgfSk7CiAgICB9LAogICAgYWZ0ZXJFbnRlcjogZnVuY3Rpb24gYWZ0ZXJFbnRlcihlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gImF1dG8iOwogICAgfQogIH0KfTs="},{"version":3,"sources":["default_messages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,OAAA,aAAA,MAAA,wCAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,uBAAA;AADA,GADA;AAIA,EAAA,QAAA,EAAA,EAJA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,IADA;AAEA,MAAA,gBAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,IAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAKA,MAAA,gBAAA,EAAA,KALA;AAMA,MAAA,kBAAA,EAAA,KANA;AAOA,MAAA,gBAAA,EAAA,KAPA;AAQA,MAAA,YAAA,EAAA,2CARA;AASA,MAAA,cAAA,EAAA,wCATA;AAUA,MAAA,gBAAA,EAAA,0CAVA;AAWA,MAAA,OAAA,EAAA,sCAXA;AAYA,MAAA,OAAA,EAAA,0BAZA;AAaA,MAAA,GAAA,EAAA,EAbA;AAcA,MAAA,gBAAA,EAAA,KAdA;AAeA,MAAA,qBAAA,EAAA;AAfA,KAAA;AAiBA,GAvBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,kBAAA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AACA,WAAA,kBAAA;AACA,KAHA;AAIA,IAAA,kBAJA,gCAIA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,IAAA,0EAAA,CAAA;AAAA,gBAAA,MAAA,0EAAA,IAAA;AACA,gBAAA,KADA,GACA,KADA;AAEA,gBAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,gBAAA,WAHA,GAGA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA;AACA,kBAAA,GAAA,EACA,8CACA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UADA,GAEA,GAFA,GAGA,YAHA,GAIA,IAAA,CAAA,cAAA,GAAA,eAAA,GAAA;AANA,iBAAA,CAHA;AAAA;AAAA,uBAWA,WAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,sBAAA,OAAA,QAAA,KAAA,WAAA,EAAA;AACA,oBAAA,KAAA,CAAA,gBAAA,GAAA,QAAA,CAAA,IAAA;AACA;;AACA,kBAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,iBANA,CAXA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,KAtBA;AAuBA,IAAA,WAvBA,uBAuBA,OAvBA,EAuBA;AACA,WAAA,UAAA,GAAA,gBAAA,CAAA,OAAA,CAAA,CAAA,MAAA;AACA,KAzBA;AA0BA,IAAA,KA1BA,iBA0BA,OA1BA,EA0BA;AAAA,8BACA,gBAAA,CAAA,OAAA,CADA;AAAA,UACA,MADA,qBACA,MADA;;AAGA,MAAA,OAAA,CAAA,KAAA,CAAA,MAAA,GAAA,KAAA,UAAA;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AACA,OAFA,CAAA;AAGA,KAlCA;AAmCA,IAAA,UAnCA,sBAmCA,OAnCA,EAmCA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AACA;AArCA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"project-files-tb\" v-cloak>\n    <transition\n      name=\"fade\"\n      mode=\"out-in\"\n      @beforeLeave=\"beforeLeave\"\n      @enter=\"enter\"\n      @afterEnter=\"afterEnter\"\n    >\n      <div key=\"1\" v-if=\"loader\" class=\"white-row loader-route\">\n        <div class=\"lds-sub-ripple\">\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n      <div key=\"2\" v-else class=\"project-messages-wrapper\">\n        <section class=\"messages-heading-top\">\n          <div class=\"top-area\">\n            <div class=\"row\">\n              <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-6\">\n                <div class=\"\">\n                  <h4 class=\"general-sub-heading\">\n                    Messages\n                    <a\n                      @click.prevent=\"refreshProjectMessages\"\n                      href=\"\"\n                      class=\"refreshData\"\n                      ><i class=\"fas fa-redo-alt\"></i\n                    ></a>\n                  </h4>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section class=\"thread-listing\">\n          <div\n            class=\"message-thread-wrapper\"\n            v-if=\"\n              typeof project_messages.data !== 'undefined' &&\n                Object.keys(project_messages.data).length\n            \"\n          >\n            <div v-if=\"sub_loader\" class=\"white-row loader-route subloader\">\n              <div class=\"lds-sub-ripple\">\n                <div></div>\n                <div></div>\n              </div>\n            </div>\n            <div\n              v-for=\"(message, mes_index) in project_messages.data\"\n              :key=\"mes_index\"\n              class=\"thr-loop-row margin-top-20\"\n            >\n              <div class=\"row\">\n                <div class=\"col-xl-4 col-lg-4 col-md-12 col-sm-12\">\n                  <div class=\"thrd-name\">\n                    <router-link\n                      class=\"eclipse-para global-para-link2\"\n                      :to=\"{\n                        path:\n                          '/projects/show/' +\n                          $route.params.project_id +\n                          '/messages/show/' +\n                          message.id\n                      }\"\n                      tag=\"p\"\n                    >\n                      {{ message.porject_thread_subtitle }}\n                    </router-link>\n                  </div>\n                </div>\n                <div class=\"col-xl-6 col-lg-6 col-md-8 col-sm-12\">\n                  <div class=\"row\">\n                    <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-12\">\n                      <div class=\"per-name\">\n                        <p class=\"eclipse-para\">\n                          {{ message.last_message.user.name }}\n                        </p>\n                      </div>\n                    </div>\n                    <div class=\"col-xl-9 col-lg-9 col-md-9 col-sm-12\">\n                      <div class=\"pers-last-mesg\">\n                        <p class=\"eclipse-para\">\n                          {{ message.last_message.message }}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-xl-2 col-lg-2 col-md-4 col-sm-12\">\n                  <div class=\"thr-time text-right\">\n                    {{ message.last_message.created_at }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"message-thread-wrapper\" v-else>\n            <div class=\"thr-loop-row margin-top-20\">\n              <no-record-found></no-record-found>\n            </div>\n          </div>\n        </section>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport norecordfound from \"../../../../components/no-record-found\";\nexport default {\n  components: {\n    \"no-record-found\": norecordfound\n  },\n  computed: {},\n  data() {\n    return {\n      sub_loader: true,\n      project_messages: {},\n      loader: true,\n      threadListing: {},\n      disableSubmitBtn: false,\n      updateListDataView: false,\n      refreshThumbData: false,\n      doc_file_url: \"https://pncworkbench.com/img/file_doc.png\",\n      excel_file_url: \"https://pncworkbench.com/img/excel.png\",\n      global_image_url: \"https://pncworkbench.com/img/archive.png\",\n      psd_url: \"https://pncworkbench.com/img/psd.png\",\n      roleurl: \"https://pncworkbench.com\",\n      pre: \"\",\n      showMessageModel: false,\n      projectFilesThumbView: {}\n    };\n  },\n  mounted() {\n    this.getProjectMessages();\n  },\n  methods: {\n    refreshProjectMessages() {\n      this.getProjectMessages();\n    },\n    async getProjectMessages(page = 1, action = null) {\n      const $this = this;\n      $this.sub_loader = true;\n      const getProducts = $this.$store.dispatch(\"getHttp\", {\n        url:\n          \"thread-message/get-project-messages-data/\" +\n          this.$route.params.project_id +\n          \"?\" +\n          \"&timezone=\" +\n          Intl.DateTimeFormat().resolvedOptions().timeZone\n      });\n      await getProducts.then(function(response) {\n        if (typeof response !== \"undefined\") {\n          $this.project_messages = response.data;\n        }\n        $this.sub_loader = false;\n        $this.loader = false;\n      });\n    },\n    beforeLeave(element) {\n      this.prevHeight = getComputedStyle(element).height;\n    },\n    enter(element) {\n      const { height } = getComputedStyle(element);\n\n      element.style.height = this.prevHeight;\n\n      setTimeout(() => {\n        element.style.height = height;\n      });\n    },\n    afterEnter(element) {\n      element.style.height = \"auto\";\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nbody .white-row.loader-route {\n  top: 0;\n}\n.message-thread-wrapper {\n  position: relative;\n  .white-row.loader-route.subloader {\n    position: absolute;\n    z-index: 99999;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition-duration: 0.3s;\n  transition-property: opacity;\n  transition-property: height, opacity;\n  transition-timing-function: ease;\n  overflow: hidden;\n}\nsection {\n  padding: 25px 0;\n  border-bottom: 1px solid #ebebeb;\n  &.messages-heading-top {\n    border: none;\n    padding-bottom: 10px;\n    padding-top: 0;\n    .top-area {\n      padding-bottom: 10px;\n      h4.general-sub-heading {\n        line-height: 30px;\n      }\n    }\n  }\n  &.thread-listing {\n    border: none;\n    padding-bottom: 0;\n    padding-top: 0;\n    .thr-loop-row {\n      border-bottom: 1px solid #ebebeb;\n      padding: 20px 0;\n      p {\n        margin: 0;\n        letter-spacing: 0.28px;\n        color: #2a1c0b;\n      }\n      .thrd-name {\n        p {\n          letter-spacing: 0.28px;\n          color: #323f54;\n          font-weight: bold;\n        }\n      }\n      .per-name {\n        p {\n          font-weight: 400;\n        }\n      }\n      .pers-last-mesg {\n        p {\n          font-weight: 100;\n        }\n      }\n      .thr-time {\n        font-weight: 100;\n      }\n    }\n  }\n}\n\n.slide-enter-active {\n  -moz-transition-duration: 0.3s;\n  -webkit-transition-duration: 0.3s;\n  -o-transition-duration: 0.3s;\n  transition-duration: 0.3s;\n  -moz-transition-timing-function: ease-in;\n  -webkit-transition-timing-function: ease-in;\n  -o-transition-timing-function: ease-in;\n  transition-timing-function: ease-in;\n}\n\n.slide-leave-active {\n  -moz-transition-duration: 0.3s;\n  -webkit-transition-duration: 0.3s;\n  -o-transition-duration: 0.3s;\n  transition-duration: 0.3s;\n  -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n  -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n  -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n  transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n}\n\n.slide-enter-to,\n.slide-leave {\n  max-height: 100px;\n  overflow: hidden;\n}\n\n.slide-enter,\n.slide-leave-to {\n  overflow: hidden;\n  max-height: 0;\n}\n</style>\n"],"sourceRoot":"src/views/projects/childrens/messages"}]}
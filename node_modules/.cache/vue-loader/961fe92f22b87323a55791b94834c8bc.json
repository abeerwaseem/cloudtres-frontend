{"remainingRequest":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shafimuhammad/Sites/billig.testingsanctum/src/views/all-notifications/index-notification.vue?vue&type=style&index=0&id=40e4ca2c&lang=scss&scoped=true&","dependencies":[{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/src/views/all-notifications/index-notification.vue","mtime":1609744687395},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shafimuhammad/Sites/billig.testingsanctum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5idG46bm90KDpkaXNhYmxlZCk6bm90KC5kaXNhYmxlZCkgewogIGN1cnNvcjogcG9pbnRlcjsKICBib3gtc2hhZG93OiBub25lOwp9Ci5uby1ub3RpZmljYXRpb25zLWZvdW5kIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgcGFkZGluZzogNjRweCAwOwogIGZvbnQtc2l6ZTogMjJweDsKfQoud3JhcHBlci1ub3RpZmljYXRpb25zIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWluLWhlaWdodDogMTUwcHg7CiAgLndoaXRlLXJvdy5sb2FkZXItcm91dGUubm90aWZpY2F0aW9uLWxvYWRlciB7CiAgICB0b3A6IDA7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICB3aWR0aDogMTAwJTsKICAgIHotaW5kZXg6IDk7CiAgICAubGRzLXN1Yi1yaXBwbGUgewogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICB3aWR0aDogODBweDsKICAgICAgaGVpZ2h0OiA4MHB4OwogICAgICB0b3A6IDUwJTsKICAgICAgbGVmdDogNTAlOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICAgIH0KICB9Cn0KLm5vZmljYXRpb24tYm9keS5ub3QtbGVuIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgLndoaXRlLXJvdy5sb2FkZXItcm91dGUubm90aWZpY2F0aW9uLWxvYWRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogOTYlOwogICAgdG9wOiAwOwogICAgaGVpZ2h0OiAxMDAlOwogICAgei1pbmRleDogOTsKICAgIC5sZHMtc3ViLXJpcHBsZSB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIHdpZHRoOiA4MHB4OwogICAgICBoZWlnaHQ6IDgwcHg7CiAgICAgIHRvcDogNTAlOwogICAgICBsZWZ0OiA1MCU7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgfQogIH0KfQpib2R5IC5ub2ZpY2F0aW9uLWJvZHkubm90LWxlbiB7CiAgcGFkZGluZzogMTVweCAwOwogIC5tYXJrLWFzLXJlYWQudGV4dC1yaWdodCB7CiAgICBwYWRkaW5nOiAwIDE1cHg7CiAgfQp9CmJvZHkgLm5vZmljYXRpb24tYm9keSAubm90LWdyb3VwcyAubm90aWZpY2F0aW9ucy1saXN0aW5nIGg1LmRhdGUtaGVhZGluZyB7CiAgcGFkZGluZzogMCAxNXB4Owp9CmJvZHkKICAubm9maWNhdGlvbi1ib2R5CiAgLm5vdC1ncm91cHMKICAubm90aWZpY2F0aW9ucy1saXN0aW5nCiAgLmxpc3QtZ3JvdXAtZmx1c2gKICBsaS5saXN0LWdyb3VwLWl0ZW0gewogIHBhZGRpbmc6IDEycHggNThweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgJi5hY3RpdmUgewogICAgei1pbmRleDogMjsKICAgIGNvbG9yOiAjMjEyNTI5OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsKICAgIGJvcmRlci1jb2xvcjogIzQwYWYyYTsKICB9Cn0KYm9keSAubXItMyB7CiAgbGVmdDogMTBweDsKICB0b3A6IDE4cHg7Cn0KLm1lZGlhLWJvZHkgcCB7CiAgbWFyZ2luLWJvdHRvbTogMDsKfQp1bC5wYWdpbmF0aW9uLnBhZ2luYXRpb24uanVzdGlmeS1jb250ZW50LWNlbnRlciB7CiAgcGFkZGluZzogNDBweCAwIDA7Cn0KaDIuZ2xvYmFsLXN0eWxlLWhlYWRpbmcgewogIHBhZGRpbmctYm90dG9tOiAyMHB4Owp9Cg=="},{"version":3,"sources":["index-notification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index-notification.vue","sourceRoot":"src/views/all-notifications","sourcesContent":["<template>\n  <div class=\"viewDashBoard\" v-cloak>\n    <div class=\"container\">\n      <div class=\"white-row\">\n        <h2 class=\"global-style-heading\">\n          Notifications\n          <a\n            @click.prevent=\"refreshNotificationTable\"\n            href=\"\"\n            class=\"refreshData\"\n            ><i class=\"fas fa-redo-alt\"></i\n          ></a>\n        </h2>\n        <div\n          v-if=\"\n            typeof getActiveUserData.user !== 'undefined' &&\n              Object.keys(getActiveUserData.user).length\n          \"\n        >\n          <div class=\"nofication-body not-len\">\n            <div\n              v-if=\"notification_loader\"\n              class=\"white-row loader-route notification-loader\"\n            >\n              <div class=\"lds-sub-ripple\">\n                <div></div>\n                <div></div>\n              </div>\n            </div>\n            <div\n              class=\"wrapper-notifications\"\n              v-if=\"\n                typeof total_notifications.data !== 'undefined' &&\n                  Object.keys(total_notifications.data).length\n              \"\n            >\n              <div class=\"not-groups\">\n                <div class=\"notifications-listing\">\n                  <ul class=\"list-group list-group-flush\">\n                    <li\n                      class=\"list-group-item\"\n                      :class=\"{ active: !not.read_at }\"\n                      v-for=\"(not, not_index) in total_notifications.data\"\n                      :key=\"not_index\"\n                    >\n                      <div\n                        class=\"media\"\n                        @click=\"\n                          markAsRead(not.id, not.data.redirect, not.read_at)\n                        \"\n                      >\n                        <avatar\n                          class=\"mr-3\"\n                          :username=\"not.data.body.name\"\n                        ></avatar>\n                        <div class=\"media-body\">\n                          <h6>{{ not.data.body.title }}</h6>\n                          <p>{{ not.data.body.message }}</p>\n                          <p>{{ not.created_at }}</p>\n                        </div>\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-sm-12\">\n                    <pagination\n                      class=\"pagination justify-content-center\"\n                      :data=\"total_notifications\"\n                      :limit=\"1\"\n                      @pagination-change-page=\"getNotifications\"\n                    ></pagination>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div v-else class=\"wrapper-notifications\">\n              <no-record-found></no-record-found>\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"white-row loader-route\">\n          <div class=\"lds-sub-ripple\">\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport norecordfound from \"../../components/no-record-found\";\nimport Avatar from \"vue-avatar\";\nexport default {\n  components: {\n    Avatar,\n    \"no-record-found\": norecordfound\n  },\n  computed: {\n    getActiveUserData() {\n      return this.$store.state.auth;\n    }\n  },\n  data() {\n    return {\n      notification_loader: true,\n      total_count: 0,\n      total_notifications: {}\n    };\n  },\n  mounted() {\n    document.title = this.$router.app._route.meta.pageTitle;\n    this.getNotifications();\n  },\n  methods: {\n    refreshNotificationTable() {\n      this.getNotifications();\n    },\n    async getNotifications(page = 1, action = null) {\n      const $this = this;\n      $this.notification_loader = true;\n      const data = $this.$store.dispatch(\"getHttp\", {\n        url:\n          \"notifications/get-total-notification-pagination?timezone=\" +\n          Intl.DateTimeFormat().resolvedOptions().timeZone +\n          \"&page=\" +\n          page\n      });\n      await data.then(function(response) {\n        if (typeof response != \"undefined\") {\n          console.log(response);\n          $this.total_notifications = response.data;\n          $this.notification_loader = false;\n        }\n      });\n    },\n    async markAsRead(id, redirect, read_at) {\n      const $this = this;\n      $this.notification_loader = true;\n      if (read_at === null) {\n        const data = $this.$store.dispatch(\"postHttp\", {\n          url: \"notifications/mark-as-read/\" + id,\n          formDetails: {\n            id: id\n          },\n          formEvent: null\n        });\n        await data.then(function(response) {\n          if (typeof response !== \"undefined\") {\n            $this.$store.dispatch(\"getingTotalCountOfNotification\");\n            $this.getNotifications();\n            if (redirect.popup) {\n              // console.log(\"hey\");\n            } else {\n              if ($this.$route.fullPath == redirect.url) {\n                $this.$router.push(redirect.url + \"?reload=1\");\n              } else {\n                $this.$router.push(redirect.url);\n              }\n              $this.notification_loader = true;\n            }\n          }\n        });\n      } else {\n        $this.$store.dispatch(\"getingTotalCountOfNotification\");\n        $this.getNotifications();\n        if (redirect.popup) {\n          // console.log(\"hey\");\n        } else {\n          if ($this.$route.fullPath == redirect.url) {\n            $this.$router.push(redirect.url + \"?reload=1\");\n          } else {\n            $this.$router.push(redirect.url);\n          }\n        }\n        $this.notification_loader = true;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.btn:not(:disabled):not(.disabled) {\n  cursor: pointer;\n  box-shadow: none;\n}\n.no-notifications-found {\n  text-align: center;\n  padding: 64px 0;\n  font-size: 22px;\n}\n.wrapper-notifications {\n  position: relative;\n  min-height: 150px;\n  .white-row.loader-route.notification-loader {\n    top: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 9;\n    .lds-sub-ripple {\n      display: block;\n      position: relative;\n      width: 80px;\n      height: 80px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n}\n.nofication-body.not-len {\n  position: relative;\n  .white-row.loader-route.notification-loader {\n    position: absolute;\n    width: 96%;\n    top: 0;\n    height: 100%;\n    z-index: 9;\n    .lds-sub-ripple {\n      display: block;\n      position: relative;\n      width: 80px;\n      height: 80px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n}\nbody .nofication-body.not-len {\n  padding: 15px 0;\n  .mark-as-read.text-right {\n    padding: 0 15px;\n  }\n}\nbody .nofication-body .not-groups .notifications-listing h5.date-heading {\n  padding: 0 15px;\n}\nbody\n  .nofication-body\n  .not-groups\n  .notifications-listing\n  .list-group-flush\n  li.list-group-item {\n  padding: 12px 58px;\n  cursor: pointer;\n  &.active {\n    z-index: 2;\n    color: #212529;\n    background-color: #f8f8f8;\n    border-color: #40af2a;\n  }\n}\nbody .mr-3 {\n  left: 10px;\n  top: 18px;\n}\n.media-body p {\n  margin-bottom: 0;\n}\nul.pagination.pagination.justify-content-center {\n  padding: 40px 0 0;\n}\nh2.global-style-heading {\n  padding-bottom: 20px;\n}\n</style>\n"]}]}